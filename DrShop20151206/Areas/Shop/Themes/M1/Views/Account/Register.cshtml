@{
    Layout = "~/Areas/Shop/Themes/M1/Views/Shared/_BaseLayout.cshtml";
    string regStr= ViewBag.RegisterToggle;
}
@model Maticsoft.ViewModel.Shop.RegisterModel
@section head{

    <link rel="stylesheet" type="text/css" href="/Areas/Shop/Themes/M1/Content/Css/msg,btn,form,reg-base,reg.css?v=12022713" />
    <link href="/Scripts/jqueryui/base/jquery-ui-1.9.2.min.css" rel="stylesheet" type="text/css" />
    <link href="/Areas/Shop/Themes/M1/Content/Css/Style-1.css" rel="stylesheet" type="text/css" />
    <script src="/Scripts/jqueryui/jquery-ui-1.9.2.custom.js" type="text/javascript"></script>
    <script type="text/javascript" src="/Areas/Shop/Themes/M1/Content/Scripts/UserCenter/EmailRegister.js"></script>
}

<div class="w760">
    <div class="box box-pwd">
        <div class="hd">
            <h2>
                新用户注册</h2>
            <div class="act">
                如果您曾在@(ViewBag.WebName)商城购买过商品，无需注册，只需<a target="_blank" style="color: #1859A5" href="@(ViewBag.BasePath)Account/Login">点击这里登录</a></div>
        </div>
        <div class="bd">
            <div id="tab_regi">
                <div class="J_tab_panel login">
                    @using (Html.BeginForm("Register", "Account", FormMethod.Post, new { Class = "form form-regi" }))
                    {
           <input type="hidden" id="hfPhoneNumber"/>
                        
                        <input type="hidden" id="inviteid"  name="inviteid" value="@ViewBag.InviteID" />
                        <div class="f-box" style="margin-top: 20px;">
                            <input id="hfSeconds" type="hidden" value="@ViewBag.Seconds" />
                            <input id="hfSMSIsOpen" type="hidden" value="@ViewBag.SMSIsOpen" /> 
                            <input id="hfRegisterToggle" type="hidden" value="@ViewBag.RegisterToggle" /> 
                            @switch (regStr)
                            {
                                case "Phone":
                                    <div class="f-box "  >
                                        <label class="f-label">
                                            手机号码：</label>
                                        <div class="f-input f-pwdb">
                                            <!--  <input type="password" name="xlInput" id="vpwd" class="f-txt-b f-txt" maxlength="30"/>-->
                                            @Html.TextBoxFor(m => m.UserName, new { maxlength = "40", name = "xlInput", id = "phone", Class = "f-txt-b f-txt" })
                               
                                            @if (ViewBag.SMSIsOpen)
                                            {
                                                <li class="ui-list-item  txtphone"  style="padding-top: 8px; list-style-type: none;diplay:none;"><span id="J-resend-mobile"
                                                                                                                                                       class="ui-button ui-button-swhite" data-widget-cid="widget-0">
                                                                                                                                                     <input id="btnSendSMS" type="button" value="发送校验码短信" style="height: 28px; width: 150px;" />
                                                                                                                                                 </span></li>
                                            } 
                                        </div>
                                        <div class="f-msg">
                                            <div id="divPhoneTip">
                                                <span style="color: red; font-size: 14px;">@Html.ValidationMessageFor(m => m.UserName)   @ViewBag.hasemail</span>
                                            </div>
                                        </div>
                                    </div>
                                                                                                                                    if (ViewBag.SMSIsOpen)
                                                                                                                                    {
                                <div class="f-box txtphone" style="display: none">
                                    <label class="f-label">
                                        校验码：</label>
                                    <div class="f-input">
                                        <input type="text" name="xlInput" maxlength="6" id="checkCode" class="f-txt-s f-txt" />
                                    </div>
                                    <div class="f-msg">
                                        <div id="divVerifyCodeTip">
                                        </div>
                                    </div>
                                </div>
                                                                                                                                    }

                               @*     <label class="f-label">
                                        手机号码：</label>
                             <div class="f-input">
                                @Html.TextBoxFor(m => m.UserName, new { id = "txtboxPhone", maxlength = "40", name = "xlInput", Class = "f-txt-b f-txt" })
                            </div>*@
                                                                                                                                    break;
                                default:
                                    <label class="f-label">
                                        邮箱：</label>
                                    <div class="f-input">
                                        @Html.TextBoxFor(m => m.UserName, new { id = "email", maxlength = "40", name = "xlInput", Class = "f-txt-b f-txt" })
                                    </div>
                              <div class="f-msg">
                                <div id="divEmailTip">
                                    <span style="color: red; font-size: 14px;">@Html.ValidationMessageFor(m => m.UserName)
                                        @ViewBag.hasemail</span>
                                </div>
                            </div>
                                   break;
                            }  
                          
                        </div>
                        <div class="f-box">
                            <label class="f-label">
                                用户昵称：</label>
                            <div class="f-input">
                                <!--  <input type="text" maxlength="40" name="xlInput" id="nickname" class="f-txt-b f-txt">-->
                                @Html.TextBoxFor(m => m.NickName, new { maxlength = "40", name = "xlInput", id = "nickname", Class = "f-txt-b f-txt" })
                            </div>
                            <div class="f-msg">
                                <div id="divNicknameTip">
                                    <span style="color: red; font-size: 14px;">@Html.ValidationMessageFor(m => m.NickName)
                                        @ViewBag.hasnickname</span>
                                </div>
                            </div>
                        </div>
                        <div class="f-box">
                            <label class="f-label">
                                设置密码：</label>
                            <div class="f-input f-pwdb">
                                <!-- <input type="password" name="xlInput" id="pwd" class="f-txt-b f-txt" maxlength="30"/>-->
                                @Html.PasswordFor(m => m.Password, new { maxlength = "40", name = "xlInput", id = "pwd", Class = "f-txt-b f-txt" })
                            </div>
                            <div class="f-msg">
                                <div id="divPwdTip">
                                    <span style="color: red; font-size: 14px;">@Html.ValidationMessageFor(m => m.Password)
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="f-box">
                            <label class="f-label">
                                确认密码：</label>
                            <div class="f-input f-pwdb">
                                <!--  <input type="password" name="xlInput" id="vpwd" class="f-txt-b f-txt" maxlength="30"/>-->
                                @Html.PasswordFor(m => m.ConfirmPassword, new { maxlength = "40", name = "xlInput", id = "vpwd", Class = "f-txt-b f-txt" })
                            </div>
                            <div class="f-msg">
                                <div id="divVPwdTip">
                                    <span style="color: red; font-size: 14px;">@Html.ValidationMessageFor(m => m.ConfirmPassword)</span>
                                </div>
                            </div>
                        </div>
                       
                        <div class="f-box f-act f-check">
                            <div class="f-input">
                                <label>
                                    <input type="checkbox" value="option2" id="chkAgreement" />
                                    <span class="c6 ml5">我已阅读并同意</span></label><a id="aUserAgreement" style="cursor: pointer;
                                        text-decoration: none;">《@(ViewBag.WebName)用户服务协议》</a>
                            </div>
                            <div class="f-msg">
                                <div id="divAgreementTip">
                                </div>
                            </div>
                        </div>
                        <input type="submit" id="registerSubmit" value="" style="display: none;" />
                        <div class="fb f-act">
                            <div class="f-input">
                                <input class="btn btn-important-large" style="line-height: 30px; background-position: 100% -78px;
                                    padding-right: 10px; font-weight: bold;" type="button" value="提交注册信息" id="btnEmailRegister" />
                            </div>
                            <div class="f-msg">
                                <div id="divRegTip">
                                </div>
                            </div>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</div>
<div id="divUserAgreement" style="display: none;">
    <div>
        @Html.Raw(Model.UserAgreement)
    </div>
</div>
